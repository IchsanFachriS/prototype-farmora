<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmora - Farmer Empowerment Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        /* Custom Styles for Glass/Utility Elements - Tailwind extensions */
        .glass-card {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        .main-content {
            padding-bottom: 6rem; /* Space for bottom nav */
        }
        /* Custom Animations */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .content-section { animation: slideInUp 0.5s ease-out; }
        .content-section:not(.active) { display: none; }
        .toast.show { transform: translateX(0); }
        .typing-dots span { animation: typing 1.4s infinite; }
        .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
        .typing-dots span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }
        /* Custom Ripple Effect (Simplified with JS) */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            pointer-events: none;
            transform: scale(0);
            animation: ripple 0.6s linear;
            z-index: 10;
        }
        @keyframes ripple {
            to { transform: scale(2); opacity: 0; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen text-gray-800">
    <header class="fixed top-0 w-full bg-green-700 bg-opacity-90 backdrop-blur-md shadow-lg z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center">
                    <img src="img/logo-clip.png" alt="Farmora Logo" class="w-full h-full object-contain p-1">
                </div>
                <div class="flex flex-col text-white">
                    <span class="text-xl font-bold tracking-tight">FARMORA</span>
                    <span class="text-xs opacity-80">Farmer Platform</span>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <button class="notification-btn relative bg-white bg-opacity-20 hover:bg-opacity-30 p-2 rounded-full text-white transition duration-300" onclick="showNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge absolute top-0 right-0 h-4 w-4 text-xs bg-red-500 text-white rounded-full flex items-center justify-center animate-pulse">3</span>
                </button>
                <div class="profile-btn bg-white bg-opacity-20 p-2 rounded-full text-white cursor-pointer">
                    <i class="fas fa-user-circle text-xl"></i>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-20">
        
        <section id="home-section" class="content-section active">
            
            <div class="bg-gradient-to-br from-indigo-500 to-purple-600 text-white p-8 rounded-2xl shadow-xl mb-6 overflow-hidden relative">
                <div class="absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full transform translate-x-1/2 -translate-y-1/2"></div>
                <div class="flex flex-col md:flex-row items-center justify-between relative z-10">
                    <div>
                        <h1 class="text-3xl font-extrabold mb-2">Welcome to Farmora</h1>
                        <p class="text-lg opacity-90">Your complete platform for empowering Indonesian farmers.</p>
                    </div>
                    <i class="fas fa-tractor text-7xl opacity-30 mt-4 md:mt-0"></i>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <div class="lg:col-span-1 bg-gradient-to-br from-blue-500 to-sky-600 text-white p-6 rounded-2xl shadow-xl relative overflow-hidden">
                    <h3 class="text-lg font-semibold mb-3 relative z-10">Today's Weather</h3>
                    <p class="text-sm opacity-80 mb-4 relative z-10 weather-location">Bandung, West Java</p>
                    <div class="flex items-center justify-between relative z-10">
                        <div class="flex items-center space-x-4">
                            <div class="weather-icon text-5xl animate-bounce">
                                <i class="fas fa-sun"></i>
                            </div>
                            <div class="weather-temp text-4xl font-bold">28¬∞C</div>
                        </div>
                        <div class="text-right text-sm">
                            <div class="weather-item flex items-center space-x-1"><i class="fas fa-wind"></i><span>Wind: 5km/h</span></div>
                            <div class="weather-item flex items-center space-x-1"><i class="fas fa-tint"></i><span>Humidity: 65%</span></div>
                            <div class="weather-item flex items-center space-x-1"><i class="fas fa-eye"></i><span>Visibility: 10km</span></div>
                        </div>
                    </div>
                    <p class="text-sm mt-3 opacity-90 weather-desc text-center">Clear, perfect for farming activities</p>
                </div>
                
                <div class="lg:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="stat-card p-4 rounded-xl bg-white shadow-md hover:shadow-lg transition duration-300 transform hover:-translate-y-1 border-t-4 border-green-500">
                        <div class="flex items-center space-x-3">
                            <div class="text-xl text-green-600"><i class="fas fa-users"></i></div>
                            <div>
                                <span class="stat-number count-animation text-2xl font-extrabold text-green-700" data-target="1234">0</span>
                                <div class="stat-label text-sm text-gray-500">Registered Farmers</div>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card p-4 rounded-xl bg-white shadow-md hover:shadow-lg transition duration-300 transform hover:-translate-y-1 border-t-4 border-blue-500">
                        <div class="flex items-center space-x-3">
                            <div class="text-xl text-blue-600"><i class="fas fa-shopping-basket"></i></div>
                            <div>
                                <span class="stat-number count-animation text-2xl font-extrabold text-blue-700" data-target="567">0</span>
                                <div class="stat-label text-sm text-gray-500">Products Sold</div>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card p-4 rounded-xl bg-white shadow-md hover:shadow-lg transition duration-300 transform hover:-translate-y-1 border-t-4 border-yellow-500">
                        <div class="flex items-center space-x-3">
                            <div class="text-xl text-yellow-600"><i class="fas fa-lightbulb"></i></div>
                            <div>
                                <span class="stat-number count-animation text-2xl font-extrabold text-yellow-700" data-target="89">0</span>
                                <div class="stat-label text-sm text-gray-500">Available Tips</div>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card p-4 rounded-xl bg-white shadow-md hover:shadow-lg transition duration-300 transform hover:-translate-y-1 border-t-4 border-purple-500">
                        <div class="flex items-center space-x-3">
                            <div class="text-xl text-purple-600"><i class="fas fa-comments"></i></div>
                            <div>
                                <span class="stat-number count-animation text-2xl font-extrabold text-purple-700" data-target="156">0</span>
                                <div class="stat-label text-sm text-gray-500">Active Discussions</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                <div class="feature-card glass-card p-6 rounded-2xl cursor-pointer hover:shadow-xl transition duration-300 border-l-4 border-blue-500 group" onclick="showSection('education')">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-blue-500 text-white rounded-xl text-2xl group-hover:scale-110 transition duration-300">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-700">Farm Education</h3>
                            <p class="text-sm text-gray-500">Learn modern and sustainable farming techniques.</p>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right text-gray-400 absolute right-4 top-1/2 transform -translate-y-1/2 group-hover:translate-x-1 transition"></i>
                </div>
                <div class="feature-card glass-card p-6 rounded-2xl cursor-pointer hover:shadow-xl transition duration-300 border-l-4 border-red-500 group" onclick="showSection('market')">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-red-500 text-white rounded-xl text-2xl group-hover:scale-110 transition duration-300">
                            <i class="fas fa-store"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-700">Online Marketplace</h3>
                            <p class="text-sm text-gray-500">Sell your harvest directly to consumers.</p>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right text-gray-400 absolute right-4 top-1/2 transform -translate-y-1/2 group-hover:translate-x-1 transition"></i>
                </div>
                <div class="feature-card glass-card p-6 rounded-2xl cursor-pointer hover:shadow-xl transition duration-300 border-l-4 border-yellow-500 group" onclick="showSection('community')">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-yellow-500 text-white rounded-xl text-2xl group-hover:scale-110 transition duration-300">
                            <i class="fas fa-users"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-700">Farmer Forum</h3>
                            <p class="text-sm text-gray-500">Share experiences with fellow farmers.</p>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right text-gray-400 absolute right-4 top-1/2 transform -translate-y-1/2 group-hover:translate-x-1 transition"></i>
                </div>
                <div class="feature-card glass-card p-6 rounded-2xl cursor-pointer hover:shadow-xl transition duration-300 border-l-4 border-purple-500 group" onclick="showSection('calculator')">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-purple-500 text-white rounded-xl text-2xl group-hover:scale-110 transition duration-300">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-700">Farm Calculator</h3>
                            <p class="text-sm text-gray-500">Calculate fertilizer needs and profit estimates.</p>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right text-gray-400 absolute right-4 top-1/2 transform -translate-y-1/2 group-hover:translate-x-1 transition"></i>
                </div>
                <div class="feature-card glass-card p-6 rounded-2xl cursor-pointer hover:shadow-xl transition duration-300 border-l-4 border-teal-500 group" onclick="showSection('route')">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 bg-teal-500 text-white rounded-xl text-2xl group-hover:scale-110 transition duration-300">
                            <i class="fas fa-route"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-700">Distribution Route</h3>
                            <p class="text-sm text-gray-500">Find optimal routes for crop distribution.</p>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right text-gray-400 absolute right-4 top-1/2 transform -translate-y-1/2 group-hover:translate-x-1 transition"></i>
                </div>
            </div>

            <div class="quick-tips-section bg-white p-6 rounded-2xl shadow-lg">
                <h3 class="text-2xl font-bold mb-4 flex items-center space-x-2 text-gray-700">
                    <i class="fas fa-lightbulb text-yellow-500"></i>
                    <span>Quick Tips Today</span>
                </h3>
                <div class="tips-carousel flex overflow-x-auto snap-x snap-mandatory pb-4">
                    <div class="tip-card min-w-[90%] md:min-w-[48%] lg:min-w-[32%] snap-start mr-4 p-5 rounded-xl bg-gradient-to-br from-green-500 to-green-600 text-white shadow-md transition duration-500 transform scale-95 opacity-70" data-tip-index="0">
                        <div class="text-3xl mb-2">üå±</div>
                        <h4 class="text-xl font-semibold mb-1">Ideal Watering Time</h4>
                        <p class="text-sm opacity-90">Water your plants in the morning (6:00-8:00 AM) for optimal results.</p>
                    </div>
                    <div class="tip-card min-w-[90%] md:min-w-[48%] lg:min-w-[32%] snap-start mr-4 p-5 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-md transition duration-500 transform scale-95 opacity-70" data-tip-index="1">
                        <div class="text-3xl mb-2">ü¶ó</div>
                        <h4 class="text-xl font-semibold mb-1">Natural Pest Control</h4>
                        <p class="text-sm opacity-90">Use soapy water to naturally control aphids and other small insects.</p>
                    </div>
                    <div class="tip-card min-w-[90%] md:min-w-[48%] lg:min-w-[32%] snap-start p-5 rounded-xl bg-gradient-to-br from-yellow-500 to-amber-600 text-white shadow-md transition duration-500 transform scale-95 opacity-70" data-tip-index="2">
                        <div class="text-3xl mb-2">üíß</div>
                        <h4 class="text-xl font-semibold mb-1">Water Conservation</h4>
                        <p class="text-sm opacity-90">Mulch can reduce water evaporation by up to 70%.</p>
                    </div>
                </div>
                <div class="tips-indicators flex justify-center space-x-2 mt-4">
                    <span class="indicator w-3 h-3 bg-green-500 rounded-full cursor-pointer transition duration-300" data-tip="0"></span>
                    <span class="indicator w-3 h-3 bg-gray-300 rounded-full cursor-pointer hover:bg-gray-400 transition duration-300" data-tip="1"></span>
                    <span class="indicator w-3 h-3 bg-gray-300 rounded-full cursor-pointer hover:bg-gray-400 transition duration-300" data-tip="2"></span>
                </div>
            </div>
        </section>

        <section id="education-section" class="content-section">
            <header class="text-center mb-8">
                <h2 class="text-3xl font-extrabold text-green-700">Sustainable Farm Education</h2>
                <p class="text-lg text-gray-500">Elevate your farming knowledge and techniques.</p>
            </header>
            
            <div class="flex flex-wrap justify-center gap-3 mb-8">
                <button class="category-card p-3 rounded-full text-sm font-semibold transition duration-300 flex items-center space-x-2 bg-green-600 text-white shadow-md" data-category="all">
                    <i class="fas fa-th"></i><span>All Topics</span>
                </button>
                <button class="category-card p-3 rounded-full text-sm font-semibold transition duration-300 flex items-center space-x-2 bg-white text-gray-600 hover:bg-gray-100 border border-gray-200" data-category="irrigation">
                    <i class="fas fa-tint text-blue-500"></i><span>Irrigation</span>
                </button>
                <button class="category-card p-3 rounded-full text-sm font-semibold transition duration-300 flex items-center space-x-2 bg-white text-gray-600 hover:bg-gray-100 border border-gray-200" data-category="pest">
                    <i class="fas fa-bug text-red-500"></i><span>Pest Control</span>
                </button>
                <button class="category-card p-3 rounded-full text-sm font-semibold transition duration-300 flex items-center space-x-2 bg-white text-gray-600 hover:bg-gray-100 border border-gray-200" data-category="organic">
                    <i class="fas fa-leaf text-green-500"></i><span>Organic Farming</span>
                </button>
            </div>

            <div class="education-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="education-card bg-white rounded-xl shadow-lg overflow-hidden transform hover:scale-[1.01] transition duration-300" data-category="irrigation">
                    <div class="bg-gradient-to-br from-blue-500 to-blue-600 h-24 flex items-center justify-center text-white text-3xl relative">
                        <i class="fas fa-tint"></i>
                        <span class="absolute top-3 left-3 bg-white text-blue-600 text-xs font-bold px-2 py-1 rounded-full">Irrigation</span>
                    </div>
                    <div class="p-5">
                        <h4 class="text-xl font-bold mb-2 text-gray-700">Drip Irrigation Technique</h4>
                        <p class="text-gray-500 text-sm mb-4">Save up to 50% water with an efficient irrigation system. Suitable for vegetables and fruits.</p>
                        <div class="flex justify-between items-center text-gray-400 text-sm mb-4">
                            <span><i class="fas fa-clock"></i> 15 min read</span>
                            <span class="text-yellow-500"><i class="fas fa-star"></i> 4.8</span>
                        </div>
                        <button class="education-btn w-full py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition" onclick="showEducationDetail('irrigation')">Learn More</button>
                    </div>
                </div>
                <div class="education-card bg-white rounded-xl shadow-lg overflow-hidden transform hover:scale-[1.01] transition duration-300" data-category="organic">
                    <div class="bg-gradient-to-br from-green-500 to-green-600 h-24 flex items-center justify-center text-white text-3xl relative">
                        <i class="fas fa-recycle"></i>
                        <span class="absolute top-3 left-3 bg-white text-green-600 text-xs font-bold px-2 py-1 rounded-full">Organic</span>
                    </div>
                    <div class="p-5">
                        <h4 class="text-xl font-bold mb-2 text-gray-700">Organic Waste Processing</h4>
                        <p class="text-gray-500 text-sm mb-4">Turn farm waste into high-quality compost to improve soil fertility.</p>
                        <div class="flex justify-between items-center text-gray-400 text-sm mb-4">
                            <span><i class="fas fa-clock"></i> 20 min read</span>
                            <span class="text-yellow-500"><i class="fas fa-star"></i> 4.9</span>
                        </div>
                        <button class="education-btn w-full py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition" onclick="showEducationDetail('compost')">Learn More</button>
                    </div>
                </div>
                <div class="education-card bg-white rounded-xl shadow-lg overflow-hidden transform hover:scale-[1.01] transition duration-300" data-category="pest">
                    <div class="bg-gradient-to-br from-red-500 to-red-600 h-24 flex items-center justify-center text-white text-3xl relative">
                        <i class="fas fa-shield-alt"></i>
                        <span class="absolute top-3 left-3 bg-white text-red-600 text-xs font-bold px-2 py-1 rounded-full">Pest Control</span>
                    </div>
                    <div class="p-5">
                        <h4 class="text-xl font-bold mb-2 text-gray-700">Natural Pest Management</h4>
                        <p class="text-gray-500 text-sm mb-4">Eco-friendly methods to control pests without chemical pesticides.</p>
                        <div class="flex justify-between items-center text-gray-400 text-sm mb-4">
                            <span><i class="fas fa-clock"></i> 12 min read</span>
                            <span class="text-yellow-500"><i class="fas fa-star"></i> 4.7</span>
                        </div>
                        <button class="education-btn w-full py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition" onclick="showEducationDetail('pest')">Learn More</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="market-section" class="content-section">
            <header class="text-center mb-8">
                <h2 class="text-3xl font-extrabold text-green-700">Farmer's Online Market</h2>
                <p class="text-lg text-gray-500">Buy and sell agricultural products directly.</p>
            </header>

            <div class="flex flex-wrap justify-center gap-3 mb-8">
                <button class="filter-btn p-3 rounded-full text-sm font-semibold transition duration-300 bg-green-600 text-white shadow-md" data-filter="all">All Products</button>
                <button class="filter-btn p-3 rounded-full text-sm font-semibold transition duration-300 bg-white text-gray-600 hover:bg-gray-100 border border-gray-200" data-filter="rice">Rice</button>
                <button class="filter-btn p-3 rounded-full text-sm font-semibold transition duration-300 bg-white text-gray-600 hover:bg-gray-100 border border-gray-200" data-filter="vegetables">Vegetables</button>
                <button class="filter-btn p-3 rounded-full text-sm font-semibold transition duration-300 bg-white text-gray-600 hover:bg-gray-100 border border-gray-200" data-filter="fruits">Fruits</button>
            </div>

            <div class="market-products grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="product-card bg-white rounded-xl shadow-lg overflow-hidden" data-category="rice">
                    <div class="bg-yellow-600 h-28 flex items-center justify-center text-white text-3xl relative">
                        <i class="fas fa-seedling"></i>
                        <span class="absolute top-3 right-3 bg-white text-yellow-600 text-xs font-bold px-2 py-1 rounded-full">Organic</span>
                    </div>
                    <div class="p-5">
                        <h4 class="text-xl font-bold mb-3 text-gray-700">Premium Organic Rice</h4>
                        <div class="flex items-center space-x-3 pb-3 mb-3 border-b border-gray-100">
                            <div class="p-2 bg-green-100 text-green-600 rounded-full"><i class="fas fa-user text-sm"></i></div>
                            <div class="flex-1">
                                <span class="font-semibold text-gray-700 seller-name">Mr. Budi</span>
                                <span class="block text-xs text-gray-500 seller-location">Bantul, Yogyakarta</span>
                            </div>
                            <div class="text-yellow-500 text-sm font-semibold flex items-center space-x-1"><i class="fas fa-star"></i><span>4.8</span></div>
                        </div>
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <span class="text-2xl font-extrabold text-green-700">Rp 15,000</span>
                                <span class="text-sm text-gray-500">/kg</span>
                            </div>
                            <div class="text-sm text-gray-500 flex items-center space-x-1"><i class="fas fa-box"></i><span>Stock: 500kg</span></div>
                        </div>
                        <div class="flex space-x-3">
                            <button class="btn-secondary w-10 h-10 bg-gray-100 text-red-500 rounded-lg hover:bg-gray-200 transition duration-300"><i class="fas fa-heart"></i></button>
                            <button class="btn-primary flex-1 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition duration-300 flex items-center justify-center space-x-2" onclick="orderProduct('rice-organic')">
                                <i class="fas fa-shopping-cart"></i><span>Order</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="product-card bg-white rounded-xl shadow-lg overflow-hidden" data-category="vegetables">
                    <div class="bg-green-600 h-28 flex items-center justify-center text-white text-3xl relative">
                        <i class="fas fa-carrot"></i>
                        <span class="absolute top-3 right-3 bg-white text-green-600 text-xs font-bold px-2 py-1 rounded-full">Fresh</span>
                    </div>
                    <div class="p-5">
                        <h4 class="text-xl font-bold mb-3 text-gray-700">Assorted Fresh Vegetables</h4>
                        <div class="flex items-center space-x-3 pb-3 mb-3 border-b border-gray-100">
                            <div class="p-2 bg-green-100 text-green-600 rounded-full"><i class="fas fa-user text-sm"></i></div>
                            <div class="flex-1">
                                <span class="font-semibold text-gray-700 seller-name">Ms. Sari</span>
                                <span class="block text-xs text-gray-500 seller-location">Malang, East Java</span>
                            </div>
                            <div class="text-yellow-500 text-sm font-semibold flex items-center space-x-1"><i class="fas fa-star"></i><span>4.9</span></div>
                        </div>
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <span class="text-2xl font-extrabold text-green-700">Rp 8,000</span>
                                <span class="text-sm text-gray-500">/kg</span>
                            </div>
                            <div class="text-sm text-gray-500 flex items-center space-x-1"><i class="fas fa-box"></i><span>Stock: 200kg</span></div>
                        </div>
                        <div class="flex space-x-3">
                            <button class="btn-secondary w-10 h-10 bg-gray-100 text-red-500 rounded-lg hover:bg-gray-200 transition duration-300"><i class="fas fa-heart"></i></button>
                            <button class="btn-primary flex-1 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition duration-300 flex items-center justify-center space-x-2" onclick="orderProduct('vegetables-fresh')">
                                <i class="fas fa-shopping-cart"></i><span>Order</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="product-card bg-white rounded-xl shadow-lg overflow-hidden" data-category="fruits">
                    <div class="bg-red-600 h-28 flex items-center justify-center text-white text-3xl relative">
                        <i class="fas fa-apple-alt"></i>
                        <span class="absolute top-3 right-3 bg-white text-red-600 text-xs font-bold px-2 py-1 rounded-full">Local</span>
                    </div>
                    <div class="p-5">
                        <h4 class="text-xl font-bold mb-3 text-gray-700">Fresh Local Fruits</h4>
                        <div class="flex items-center space-x-3 pb-3 mb-3 border-b border-gray-100">
                            <div class="p-2 bg-green-100 text-green-600 rounded-full"><i class="fas fa-user text-sm"></i></div>
                            <div class="flex-1">
                                <span class="font-semibold text-gray-700 seller-name">Mr. Ahmad</span>
                                <span class="block text-xs text-gray-500 seller-location">Bogor, West Java</span>
                            </div>
                            <div class="text-yellow-500 text-sm font-semibold flex items-center space-x-1"><i class="fas fa-star"></i><span>4.6</span></div>
                        </div>
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <span class="text-2xl font-extrabold text-green-700">Rp 12,000</span>
                                <span class="text-sm text-gray-500">/kg</span>
                            </div>
                            <div class="text-sm text-gray-500 flex items-center space-x-1"><i class="fas fa-box"></i><span>Stock: 150kg</span></div>
                        </div>
                        <div class="flex space-x-3">
                            <button class="btn-secondary w-10 h-10 bg-gray-100 text-red-500 rounded-lg hover:bg-gray-200 transition duration-300"><i class="fas fa-heart"></i></button>
                            <button class="btn-primary flex-1 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition duration-300 flex items-center justify-center space-x-2" onclick="orderProduct('fruits-local')">
                                <i class="fas fa-shopping-cart"></i><span>Order</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <button class="add-product-btn py-3 px-8 bg-blue-600 text-white rounded-xl text-lg font-semibold hover:bg-blue-700 transition duration-300 shadow-lg shadow-blue-200/50" onclick="showAddProduct()">
                    <i class="fas fa-plus mr-2"></i>
                    <span>Sell Your Product</span>
                </button>
            </div>
        </section>

        <section id="community-section" class="content-section">
            <header class="text-center mb-8">
                <h2 class="text-3xl font-extrabold text-green-700">Farmer Community Forum</h2>
                <p class="text-lg text-gray-500">Share experiences and find solutions with fellow farmers.</p>
            </header>

            <div class="community-stats grid grid-cols-3 gap-4 bg-white p-6 rounded-2xl shadow-lg mb-8">
                <div class="flex flex-col items-center justify-center space-y-1">
                    <i class="fas fa-users text-2xl text-green-600"></i>
                    <span class="stat-number text-2xl font-extrabold text-gray-800">1,234</span>
                    <span class="stat-label text-sm text-gray-500">Members</span>
                </div>
                <div class="flex flex-col items-center justify-center space-y-1">
                    <i class="fas fa-comments text-2xl text-blue-600"></i>
                    <span class="stat-number text-2xl font-extrabold text-gray-800">856</span>
                    <span class="stat-label text-sm text-gray-500">Discussions</span>
                </div>
                <div class="flex flex-col items-center justify-center space-y-1">
                    <i class="fas fa-heart text-2xl text-red-600"></i>
                    <span class="stat-number text-2xl font-extrabold text-gray-800">2,341</span>
                    <span class="stat-label text-sm text-gray-500">Likes</span>
                </div>
            </div>

            <div class="community-posts flex flex-col space-y-6">
                <div class="post-card bg-white rounded-xl shadow-lg">
                    <div class="p-5">
                        <div class="post-header flex items-start space-x-3 mb-3">
                            <div class="post-avatar w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0">PB</div>
                            <div class="flex-1">
                                <div class="font-bold text-gray-800">Mr. Budi</div>
                                <div class="flex items-center space-x-3 text-xs text-gray-500">
                                    <span><i class="fas fa-clock"></i> 2 hours ago</span>
                                    <span class="post-category bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full font-semibold">Tips</span>
                                </div>
                            </div>
                            <i class="fas fa-ellipsis-h text-gray-400 p-2 hover:bg-gray-100 rounded-full cursor-pointer"></i>
                        </div>
                        <div class="post-content">
                            <h4 class="text-xl font-bold mb-2 text-gray-700">Tips on Controlling Leafhoppers on Rice</h4>
                            <p class="text-gray-600 mb-3">Does anyone have effective tips for controlling leafhoppers? My fields are starting to get attacked and I'm worried it will spread...</p>
                            <div class="flex flex-wrap gap-2 text-sm">
                                <span class="tag bg-gray-100 text-gray-600 px-3 py-1 rounded-full">#pests</span>
                                <span class="tag bg-gray-100 text-gray-600 px-3 py-1 rounded-full">#rice</span>
                                <span class="tag bg-gray-100 text-gray-600 px-3 py-1 rounded-full">#leafhopper</span>
                            </div>
                        </div>
                        <div class="post-actions flex justify-between border-t border-gray-100 pt-3 mt-4">
                            <button class="action-btn text-red-500 font-semibold flex items-center space-x-1 p-2 rounded-lg hover:bg-red-50 transition duration-300"><i class="fas fa-heart"></i><span>12</span></button>
                            <button class="action-btn text-blue-500 font-semibold flex items-center space-x-1 p-2 rounded-lg hover:bg-blue-50 transition duration-300"><i class="fas fa-comment"></i><span>5</span></button>
                            <button class="action-btn text-gray-500 font-semibold flex items-center space-x-1 p-2 rounded-lg hover:bg-gray-50 transition duration-300"><i class="fas fa-share"></i><span>2</span></button>
                            <button class="action-btn text-gray-500 p-2 rounded-full hover:bg-gray-50 transition duration-300"><i class="fas fa-bookmark text-lg"></i></button>
                        </div>
                    </div>
                </div>

                <div class="post-card bg-white rounded-xl shadow-lg">
                    <div class="p-5">
                        <div class="post-header flex items-start space-x-3 mb-3">
                            <div class="post-avatar w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0">BS</div>
                            <div class="flex-1">
                                <div class="font-bold text-gray-800">Ms. Sari</div>
                                <div class="flex items-center space-x-3 text-xs text-gray-500">
                                    <span><i class="fas fa-clock"></i> 1 day ago</span>
                                    <span class="post-category bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-semibold">Success Story</span>
                                </div>
                            </div>
                            <i class="fas fa-ellipsis-h text-gray-400 p-2 hover:bg-gray-100 rounded-full cursor-pointer"></i>
                        </div>
                        <div class="post-content">
                            <h4 class="text-xl font-bold mb-2 text-gray-700">Abundant Organic Tomato Harvest! üçÖ</h4>
                            <p class="text-gray-600 mb-3">Alhamdulillah, after following tips from this forum, my organic tomato harvest increased by 40%! Thank you all ‚ù§Ô∏è</p>
                            <div class="bg-gray-100 p-4 rounded-lg text-center text-gray-500 text-sm mb-3">
                                <i class="fas fa-image text-2xl mb-1"></i>
                                <span>3 Photos Attached</span>
                            </div>
                            <div class="flex flex-wrap gap-2 text-sm">
                                <span class="tag bg-gray-100 text-gray-600 px-3 py-1 rounded-full">#tomato</span>
                                <span class="tag bg-gray-100 text-gray-600 px-3 py-1 rounded-full">#organic</span>
                                <span class="tag bg-gray-100 text-gray-600 px-3 py-1 rounded-full">#success</span>
                            </div>
                        </div>
                        <div class="post-actions flex justify-between border-t border-gray-100 pt-3 mt-4">
                            <button class="action-btn text-red-500 font-semibold flex items-center space-x-1 p-2 rounded-lg hover:bg-red-50 transition duration-300"><i class="fas fa-heart"></i><span>25</span></button>
                            <button class="action-btn text-blue-500 font-semibold flex items-center space-x-1 p-2 rounded-lg hover:bg-blue-50 transition duration-300"><i class="fas fa-comment"></i><span>8</span></button>
                            <button class="action-btn text-gray-500 font-semibold flex items-center space-x-1 p-2 rounded-lg hover:bg-gray-50 transition duration-300"><i class="fas fa-share"></i><span>5</span></button>
                            <button class="action-btn text-gray-500 p-2 rounded-full hover:bg-gray-50 transition duration-300"><i class="fas fa-bookmark text-lg"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center mt-8">
                <button class="create-post-btn py-3 px-8 bg-indigo-600 text-white rounded-xl text-lg font-semibold hover:bg-indigo-700 transition duration-300 shadow-lg shadow-indigo-200/50" onclick="showNewPost()">
                    <i class="fas fa-edit mr-2"></i>
                    <span>Create New Post</span>
                </button>
            </div>
        </section>

        <section id="calculator-section" class="content-section">
            <header class="text-center mb-8">
                <h2 class="text-3xl font-extrabold text-green-700">Farm Cost & Profit Calculator</h2>
                <p class="text-lg text-gray-500">Calculate fertilizer needs and profit estimates.</p>
            </header>
            
            <div class="calculator-options grid grid-cols-1 md:grid-cols-2 gap-6" id="calculator-options">
                <div class="calc-option-card glass-card p-6 rounded-2xl text-center hover:shadow-xl transition duration-300 border-t-4 border-green-500 cursor-pointer" onclick="showCalculator()">
                    <div class="w-16 h-16 bg-green-500 text-white text-3xl rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2 text-gray-700">Fertilizer & Profit Calculator</h3>
                    <p class="text-sm text-gray-500 mb-4">Calculate fertilizer needs and profit estimates based on crop type.</p>
                    <button class="calc-btn py-2 px-6 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition">Start Calculation</button>
                </div>

                <div class="calc-option-card glass-card p-6 rounded-2xl text-center hover:shadow-xl transition duration-300 border-t-4 border-yellow-500 cursor-pointer" onclick="showCalculatorTips()">
                    <div class="w-16 h-16 bg-yellow-500 text-white text-3xl rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-2 text-gray-700">Calculation Tips</h3>
                    <p class="text-sm text-gray-500 mb-4">Complete guide on how to calculate farming costs and profits accurately.</p>
                    <button class="calc-btn py-2 px-6 bg-yellow-600 text-white rounded-lg font-semibold hover:bg-yellow-700 transition">View Tips</button>
                </div>
            </div>

            <div class="calculator-form glass-card max-w-xl mx-auto p-6 rounded-2xl shadow-lg mt-8" id="calculator-form" style="display: none;">
                <div class="flex justify-between items-center pb-4 mb-4 border-b border-gray-200">
                    <h3 class="text-xl font-bold text-gray-700">Farming Calculator</h3>
                    <button class="close-calc p-2 text-gray-400 hover:text-gray-600 rounded-full transition" onclick="hideCalculator()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="calc-step" id="step-1">
                    <h4 class="text-lg font-semibold mb-4 text-gray-700">Step 1: Select Crop Type</h4>
                    <div class="crop-selection grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="crop-option flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 cursor-pointer hover:border-green-500 transition duration-300" data-crop="rice">
                            <div class="crop-icon text-3xl mb-2 text-gray-500"><i class="fas fa-seedling"></i></div>
                            <span class="font-medium text-sm">Rice</span>
                        </div>
                        <div class="crop-option flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 cursor-pointer hover:border-green-500 transition duration-300" data-crop="corn">
                            <div class="crop-icon text-3xl mb-2 text-gray-500"><i class="fas fa-corn"></i></div>
                            <span class="font-medium text-sm">Corn</span>
                        </div>
                        <div class="crop-option flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 cursor-pointer hover:border-green-500 transition duration-300" data-crop="tomato">
                            <div class="crop-icon text-3xl mb-2 text-gray-500"><i class="fas fa-pepper-hot"></i></div>
                            <span class="font-medium text-sm">Tomato</span>
                        </div>
                        <div class="crop-option flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 cursor-pointer hover:border-green-500 transition duration-300" data-crop="chili">
                            <div class="crop-icon text-3xl mb-2 text-gray-500"><i class="fas fa-fire"></i></div>
                            <span class="font-medium text-sm">Chili</span>
                        </div>
                    </div>
                </div>

                <div class="calc-step" id="step-2">
                    <h4 class="text-lg font-semibold mb-4 text-gray-700">Step 2: Land Details</h4>
                    <div class="form-group mb-4">
                        <label class="form-label block font-medium mb-1 text-gray-700">Land Area (Ha)</label>
                        <input type="number" class="form-input w-full p-3 border border-gray-300 rounded-lg focus:border-green-500 focus:ring-green-500 transition" id="land-area" placeholder="Example: 0.5" step="0.1" required>
                    </div>
                    <div class="form-group mb-4">
                        <label class="form-label block font-medium mb-1 text-gray-700">Fertilizer Price per Kg (Rp)</label>
                        <input type="number" class="form-input w-full p-3 border border-gray-300 rounded-lg focus:border-green-500 focus:ring-green-500 transition" id="fertilizer-price" placeholder="Example: 5000" required>
                    </div>
                </div>

                <div class="calc-step" id="step-3">
                    <h4 class="text-lg font-semibold mb-4 text-gray-700">Step 3: Sales Target</h4>
                    <div class="form-group mb-4">
                        <label class="form-label block font-medium mb-1 text-gray-700">Target Selling Price per Kg (Rp)</label>
                        <input type="number" class="form-input w-full p-3 border border-gray-300 rounded-lg focus:border-green-500 focus:ring-green-500 transition" id="selling-price" placeholder="Example: 15000" required>
                    </div>
                </div>

                <div class="calc-navigation flex justify-between items-center pt-4 border-t border-gray-200 mt-6">
                    <button class="calc-nav-btn prev py-2 px-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition flex items-center space-x-2" id="prev-btn" onclick="prevStep()" style="display: none;">
                        <i class="fas fa-chevron-left"></i> <span>Previous</span>
                    </button>
                    <button class="calc-nav-btn next py-2 px-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition flex items-center space-x-2" id="next-btn" onclick="nextStep()">
                        <span>Next</span> <i class="fas fa-chevron-right"></i>
                    </button>
                    <button class="calc-nav-btn calculate py-2 px-4 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition flex items-center space-x-2" id="calculate-btn" onclick="calculateFarming()" style="display: none;">
                        <i class="fas fa-calculator"></i> <span>Calculate</span>
                    </button>
                </div>

                <div class="calc-progress mt-6">
                    <div class="progress-bar h-2 bg-gray-200 rounded-full overflow-hidden mb-2">
                        <div class="progress-fill h-full bg-green-500 transition-all duration-300" id="progress-fill" style="width: 33%;"></div>
                    </div>
                    <div class="progress-steps flex justify-between text-sm text-gray-500">
                        <span class="step-indicator w-6 h-6 rounded-full bg-green-500 text-white flex items-center justify-center font-bold">1</span>
                        <span class="step-indicator w-6 h-6 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold">2</span>
                        <span class="step-indicator w-6 h-6 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold">3</span>
                    </div>
                </div>
            </div>

            <div class="result-card glass-card max-w-xl mx-auto p-6 rounded-2xl shadow-xl mt-8" id="calculation-result" style="display: none;">
                <div class="flex justify-between items-center pb-4 mb-4 border-b border-gray-200">
                    <h3 class="text-xl font-bold text-gray-700">Calculation Results</h3>
                    <button class="result-close p-2 text-gray-400 hover:text-gray-600 rounded-full transition" onclick="hideResult()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="result-content" class="text-gray-700">
                    </div>
                <div class="result-actions flex space-x-4 mt-6 pt-4 border-t border-gray-100">
                    <button class="btn-secondary flex-1 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition" onclick="resetCalculator()">Recalculate</button>
                    <button class="btn-primary flex-1 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition" onclick="saveCalculation()">Save Result</button>
                </div>
            </div>
        </section>

        <section id="route-section" class="content-section">
            <header class="text-center mb-8">
                <h2 class="text-3xl font-extrabold text-green-700">Optimal Distribution Route</h2>
                <p class="text-lg text-gray-500">Find the best path for your harvest distribution.</p>
            </header>
            
            <div class="route-form glass-card max-w-2xl mx-auto p-6 rounded-2xl shadow-lg mb-6">
                <div class="route-inputs relative space-y-4 mb-6">
                    <div class="form-group relative">
                        <label class="form-label block font-medium mb-1 text-gray-700 flex items-center space-x-2">
                            <i class="fas fa-map-marker-alt text-green-500"></i><span>Origin Location</span>
                        </label>
                        <input type="text" class="form-input w-full p-3 border border-gray-300 rounded-lg pr-12" id="origin" placeholder="Enter farm/warehouse address" required>
                        <button class="location-btn absolute right-2 top-1/2 transform translate-y-1/2 p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition" onclick="getCurrentLocation('origin')">
                            <i class="fas fa-location-crosshairs text-sm"></i>
                        </button>
                    </div>

                    <div class="route-swap text-center">
                        <button class="swap-btn w-10 h-10 bg-gray-100 border-2 border-gray-300 text-gray-600 rounded-full hover:bg-gray-200 transition duration-300" onclick="swapLocations()">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                    </div>

                    <div class="form-group relative">
                        <label class="form-label block font-medium mb-1 text-gray-700 flex items-center space-x-2">
                            <i class="fas fa-map-marker-alt text-red-500"></i><span>Destination Location</span>
                        </label>
                        <input type="text" class="form-input w-full p-3 border border-gray-300 rounded-lg pr-12" id="destination" placeholder="Enter buyer's address" required>
                        <button class="location-btn absolute right-2 top-1/2 transform translate-y-1/2 p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition" onclick="getCurrentLocation('destination')">
                            <i class="fas fa-location-crosshairs text-sm"></i>
                        </button>
                    </div>
                </div>

                <div class="route-options mb-6">
                    <h4 class="text-lg font-semibold mb-3 text-gray-700">Route Preference</h4>
                    <div class="option-buttons grid grid-cols-3 gap-3">
                        <button class="option-btn flex flex-col items-center p-4 rounded-xl border-2 border-green-500 bg-green-50 text-green-700 transition duration-300" data-option="fastest">
                            <i class="fas fa-tachometer-alt text-xl mb-1"></i><span>Fastest</span>
                        </button>
                        <button class="option-btn flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 text-gray-600 hover:border-blue-500 transition duration-300" data-option="shortest">
                            <i class="fas fa-route text-xl mb-1"></i><span>Shortest</span>
                        </button>
                        <button class="option-btn flex flex-col items-center p-4 rounded-xl border-2 border-gray-200 text-gray-600 hover:border-yellow-500 transition duration-300" data-option="economical">
                            <i class="fas fa-gas-pump text-xl mb-1"></i><span>Economical</span>
                        </button>
                    </div>
                </div>

                <button class="find-route-btn w-full py-3 bg-teal-600 text-white rounded-xl text-lg font-semibold hover:bg-teal-700 transition duration-300 shadow-lg shadow-teal-200/50 flex items-center justify-center space-x-2" onclick="findRoute()">
                    <i class="fas fa-search"></i>
                    <span>Find Optimal Route</span>
                </button>
            </div>

            <div class="route-map glass-card h-80 rounded-2xl mb-6 shadow-lg" id="route-map">
                <div class="map-placeholder w-full h-full flex flex-col items-center justify-center text-gray-400 text-lg">
                    <i class="fas fa-map-marked-alt text-4xl mb-2"></i>
                    <p>Map will appear after entering locations</p>
                </div>
            </div>

            <div class="route-info glass-card max-w-2xl mx-auto p-6 rounded-2xl shadow-lg">
                <h4 class="text-xl font-bold mb-4 text-gray-700 flex items-center space-x-2">
                    <i class="fas fa-info-circle text-blue-500"></i>
                    <span>Travel Information</span>
                </h4>
                <div class="info-grid grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="info-item flex flex-col items-center p-3 bg-gray-50 rounded-lg border-l-4 border-blue-500">
                        <i class="info-icon fas fa-cloud-sun text-xl text-blue-500 mb-1"></i>
                        <span class="info-label text-xs text-gray-500">Weather</span>
                        <span class="info-value text-sm font-semibold text-gray-700">Clear, Good</span>
                    </div>
                    <div class="info-item flex flex-col items-center p-3 bg-gray-50 rounded-lg border-l-4 border-yellow-500">
                        <i class="info-icon fas fa-traffic-light text-xl text-yellow-500 mb-1"></i>
                        <span class="info-label text-xs text-gray-500">Traffic</span>
                        <span class="info-value text-sm font-semibold text-gray-700">Light</span>
                    </div>
                    <div class="info-item flex flex-col items-center p-3 bg-gray-50 rounded-lg border-l-4 border-purple-500">
                        <i class="info-icon fas fa-clock text-xl text-purple-500 mb-1"></i>
                        <span class="info-label text-xs text-gray-500">Est. Time</span>
                        <span class="info-value text-sm font-semibold text-gray-700">45 mins</span>
                    </div>
                    <div class="info-item flex flex-col items-center p-3 bg-gray-50 rounded-lg border-l-4 border-teal-500">
                        <i class="info-icon fas fa-road text-xl text-teal-500 mb-1"></i>
                        <span class="info-label text-xs text-gray-500">Distance</span>
                        <span class="info-value text-sm font-semibold text-gray-700">25 km</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="notification-modal" class="modal fixed inset-0 bg-black bg-opacity-50 z-[2000] hidden flex items-start justify-center pt-10">
        <div class="modal-content glass-card w-11/12 max-w-md rounded-xl shadow-2xl transform transition duration-300 translate-y-full opacity-0">
            <div class="p-6">
                <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                    <h3 class="text-xl font-bold text-gray-700 flex items-center space-x-2"><i class="fas fa-bell text-yellow-500"></i><span>Notifications</span></h3>
                    <button class="modal-close p-2 text-gray-400 hover:text-gray-600 rounded-full transition" onclick="closeModal('notification-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body divide-y divide-gray-100 max-h-96 overflow-y-auto">
                    <div class="notification-item flex space-x-3 py-4">
                        <div class="notification-icon w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center text-lg flex-shrink-0"><i class="fas fa-check-circle"></i></div>
                        <div class="flex-1">
                            <div class="font-semibold text-gray-700">Order Successful!</div>
                            <div class="text-sm text-gray-600">Your organic rice has been ordered by Ms. Maria.</div>
                            <div class="text-xs text-gray-400 mt-1">2 minutes ago</div>
                        </div>
                    </div>
                    <div class="notification-item flex space-x-3 py-4">
                        <div class="notification-icon w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center text-lg flex-shrink-0"><i class="fas fa-star"></i></div>
                        <div class="flex-1">
                            <div class="font-semibold text-gray-700">New Tip Available</div>
                            <div class="text-sm text-gray-600">How to control caterpillar pests on chili plants.</div>
                            <div class="text-xs text-gray-400 mt-1">1 hour ago</div>
                        </div>
                    </div>
                    <div class="notification-item flex space-x-3 py-4">
                        <div class="notification-icon w-10 h-10 bg-yellow-500 text-white rounded-full flex items-center justify-center text-lg flex-shrink-0"><i class="fas fa-cloud-rain"></i></div>
                        <div class="flex-1">
                            <div class="font-semibold text-gray-700">Weather Alert</div>
                            <div class="text-sm text-gray-600">Rain predicted tomorrow, prepare plant protection.</div>
                            <div class="text-xs text-gray-400 mt-1">3 hours ago</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="education-detail-modal" class="modal fixed inset-0 bg-black bg-opacity-50 z-[2000] hidden flex items-start justify-center pt-10">
        <div class="modal-content large glass-card w-11/12 max-w-4xl rounded-xl shadow-2xl transform transition duration-300 translate-y-full opacity-0">
            <div class="p-6">
                <div class="modal-header flex justify-end pb-4 border-b border-gray-200">
                    <button class="modal-close p-2 text-gray-400 hover:text-gray-600 rounded-full transition" onclick="closeModal('education-detail-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body max-h-[80vh] overflow-y-auto">
                    <div id="education-detail-content" class="text-gray-700">
                        </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="add-product-modal" class="modal fixed inset-0 bg-black bg-opacity-50 z-[2000] hidden flex items-start justify-center pt-10">
        <div class="modal-content glass-card w-11/12 max-w-lg rounded-xl shadow-2xl transform transition duration-300 translate-y-full opacity-0">
            <div class="p-6">
                <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                    <h3 class="text-xl font-bold text-gray-700 flex items-center space-x-2"><i class="fas fa-plus text-blue-500"></i><span>Add New Product</span></h3>
                    <button class="modal-close p-2 text-gray-400 hover:text-gray-600 rounded-full transition" onclick="closeModal('add-product-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="add-product-form" onsubmit="addProduct(event)">
                        <div class="form-group mb-4">
                            <label class="form-label block font-medium mb-1 text-gray-700">Product Name</label>
                            <input type="text" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="Example: Organic Rice" required>
                        </div>
                        <div class="form-group mb-4">
                            <label class="form-label block font-medium mb-1 text-gray-700">Category</label>
                            <select class="form-select w-full p-3 border border-gray-300 rounded-lg" required>
                                <option value="">Select Category</option>
                                <option value="rice">Rice & Paddy</option>
                                <option value="vegetables">Vegetables</option>
                                <option value="fruits">Fruits</option>
                                <option value="herbs">Herbs & Spices</option>
                            </select>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div class="form-group">
                                <label class="form-label block font-medium mb-1 text-gray-700">Price per Kg (Rp)</label>
                                <input type="number" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="15000" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label block font-medium mb-1 text-gray-700">Stock (Kg)</label>
                                <input type="number" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group mb-6">
                            <label class="form-label block font-medium mb-1 text-gray-700">Description</label>
                            <textarea class="form-textarea w-full p-3 border border-gray-300 rounded-lg" rows="3" placeholder="Tell us about your product..." required></textarea>
                        </div>
                        <div class="form-actions flex space-x-4">
                            <button type="button" class="btn-secondary flex-1 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition" onclick="closeModal('add-product-modal')">
                                Cancel
                            </button>
                            <button type="submit" class="btn-primary flex-1 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition">
                                <i class="fas fa-plus mr-1"></i> Add Product
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div id="new-post-modal" class="modal fixed inset-0 bg-black bg-opacity-50 z-[2000] hidden flex items-start justify-center pt-10">
        <div class="modal-content glass-card w-11/12 max-w-lg rounded-xl shadow-2xl transform transition duration-300 translate-y-full opacity-0">
            <div class="p-6">
                <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                    <h3 class="text-xl font-bold text-gray-700 flex items-center space-x-2"><i class="fas fa-edit text-indigo-500"></i><span>Create New Post</span></h3>
                    <button class="modal-close p-2 text-gray-400 hover:text-gray-600 rounded-full transition" onclick="closeModal('new-post-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="new-post-form" onsubmit="createPost(event)">
                        <div class="form-group mb-4">
                            <label class="form-label block font-medium mb-1 text-gray-700">Title</label>
                            <input type="text" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="Write an engaging title..." required>
                        </div>
                        <div class="form-group mb-4">
                            <label class="form-label block font-medium mb-1 text-gray-700">Category</label>
                            <select class="form-select w-full p-3 border border-gray-300 rounded-lg" required>
                                <option value="">Select Category</option>
                                <option value="tips">Tips & Tricks</option>
                                <option value="problem">Problems & Solutions</option>
                                <option value="success">Success Story</option>
                                <option value="question">Question</option>
                            </select>
                        </div>
                        <div class="form-group mb-4">
                            <label class="form-label block font-medium mb-1 text-gray-700">Post Content</label>
                            <textarea class="form-textarea w-full p-3 border border-gray-300 rounded-lg" rows="5" placeholder="Share your experience, tips, or question..." required></textarea>
                        </div>
                        <div class="form-group mb-6">
                            <label class="form-label block font-medium mb-1 text-gray-700">Tags (Optional)</label>
                            <input type="text" class="form-input w-full p-3 border border-gray-300 rounded-lg" placeholder="Example: pests, organic, success">
                            <small class="form-help text-xs text-gray-500 mt-1 block">Separate with commas</small>
                        </div>
                        <div class="form-actions flex space-x-4">
                            <button type="button" class="btn-secondary flex-1 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition" onclick="closeModal('new-post-modal')">
                                Cancel
                            </button>
                            <button type="submit" class="btn-primary flex-1 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition">
                                <i class="fas fa-paper-plane mr-1"></i> Post
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div id="calculator-tips-modal" class="modal fixed inset-0 bg-black bg-opacity-50 z-[2000] hidden flex items-start justify-center pt-10">
        <div class="modal-content large glass-card w-11/12 max-w-4xl rounded-xl shadow-2xl transform transition duration-300 translate-y-full opacity-0">
            <div class="p-6">
                <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                    <h3 class="text-xl font-bold text-gray-700 flex items-center space-x-2"><i class="fas fa-lightbulb text-yellow-500"></i><span>Farm Calculation Tips</span></h3>
                    <button class="modal-close p-2 text-gray-400 hover:text-gray-600 rounded-full transition" onclick="closeModal('calculator-tips-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body max-h-[80vh] overflow-y-auto">
                    <div class="tips-grid grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="tip-section p-4 bg-gray-50 rounded-xl">
                            <div class="w-12 h-12 bg-green-500 text-white text-2xl rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <h4 class="text-lg font-bold mb-2 text-gray-700 text-center">Fertilizer Calculation</h4>
                            <ul class="list-disc list-inside text-gray-600 text-sm space-y-1">
                                <li>Rice: 200-250 kg/ha</li>
                                <li>Corn: 300-400 kg/ha</li>
                                <li>Vegetables: 150-200 kg/ha</li>
                                <li>Fruits: 100-150 kg/ha</li>
                            </ul>
                        </div>
                        
                        <div class="tip-section p-4 bg-gray-50 rounded-xl">
                            <div class="w-12 h-12 bg-blue-500 text-white text-2xl rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-coins"></i>
                            </div>
                            <h4 class="text-lg font-bold mb-2 text-gray-700 text-center">Profit Estimation</h4>
                            <ul class="list-disc list-inside text-gray-600 text-sm space-y-1">
                                <li>Account for all production costs</li>
                                <li>Consider market prices and trends</li>
                                <li>Set aside 10-15% for emergency fund</li>
                                <li>Include labor costs in total expenses</li>
                            </ul>
                        </div>
                        
                        <div class="tip-section p-4 bg-gray-50 rounded-xl">
                            <div class="w-12 h-12 bg-purple-500 text-white text-2xl rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h4 class="text-lg font-bold mb-2 text-gray-700 text-center">Key Success Factors</h4>
                            <ul class="list-disc list-inside text-gray-600 text-sm space-y-1">
                                <li>Weather and climate conditions</li>
                                <li>Quality of seeds and seedlings</li>
                                <li>Effective plant care techniques</li>
                                <li>Strong marketing strategy</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="success-toast" class="toast fixed bottom-20 right-4 p-4 rounded-xl shadow-lg text-white bg-green-600 transition-transform duration-300 transform translate-x-full" role="alert">
        <div class="flex items-center space-x-2">
            <div class="toast-icon text-xl"><i class="fas fa-check-circle"></i></div>
            <div class="toast-message font-semibold">Operation successful!</div>
        </div>
    </div>

    <div class="bottom-nav fixed bottom-0 left-0 right-0 bg-white shadow-2xl border-t border-gray-200 z-40">
        <div class="max-w-7xl mx-auto flex justify-around py-3">
            <div class="nav-item flex flex-col items-center p-2 rounded-lg text-gray-500 hover:text-green-600 transition duration-300 active-nav" onclick="showSection('home')">
                <i class="fas fa-home text-xl"></i>
                <span class="text-xs mt-1 font-medium">Home</span>
            </div>
            <div class="nav-item flex flex-col items-center p-2 rounded-lg text-gray-500 hover:text-green-600 transition duration-300" onclick="showSection('education')">
                <i class="fas fa-graduation-cap text-xl"></i>
                <span class="text-xs mt-1 font-medium">Education</span>
            </div>
            <div class="nav-item flex flex-col items-center p-2 rounded-lg text-gray-500 hover:text-green-600 transition duration-300" onclick="showSection('market')">
                <i class="fas fa-store text-xl"></i>
                <span class="text-xs mt-1 font-medium">Market</span>
            </div>
            <div class="nav-item flex flex-col items-center p-2 rounded-lg text-gray-500 hover:text-green-600 transition duration-300" onclick="showSection('community')">
                <i class="fas fa-users text-xl"></i>
                <span class="text-xs mt-1 font-medium">Forum</span>
            </div>
            <div class="nav-item flex flex-col items-center p-2 rounded-lg text-gray-500 hover:text-green-600 transition duration-300" onclick="showSection('calculator')">
                <i class="fas fa-calculator text-xl"></i>
                <span class="text-xs mt-1 font-medium">Calculator</span>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>