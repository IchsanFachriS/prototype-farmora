<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmora - Platform Pemberdayaan Petani</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #2e8b57, #228b22);
            color: white;
            padding: 1rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .notification-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            position: relative;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
            padding: 1rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding-bottom: 100px;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            gap: 0.5rem;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2c3e50;
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .education-icon { background: linear-gradient(135deg, #3498db, #2980b9); }
        .market-icon { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .community-icon { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .calculator-icon { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        .route-icon { background: linear-gradient(135deg, #1abc9c, #16a085); }

        /* Quick Stats */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #27ae60;
            display: block;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        /* Calculator Form */
        .calculator-form {
            display: none;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e0e6ed;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #27ae60;
        }

        .btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 1rem;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            margin-top: 0.5rem;
        }

        /* Result Display */
        .result-card {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            display: none;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e0e6ed;
            display: flex;
            justify-content: space-around;
            padding: 0.5rem 0;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            color: #7f8c8d;
            text-decoration: none;
            font-size: 0.8rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .nav-item.active {
            color: #27ae60;
        }

        .nav-item i {
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: slideUp 0.3s ease;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7f8c8d;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                padding: 0.5rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }

            .card {
                padding: 1rem;
                margin-bottom: 1rem;
            }

            .modal-content {
                margin: 5% auto;
                width: 95%;
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 0.75rem;
            }

            .logo {
                font-size: 1.2rem;
            }

            .main-content {
                margin-top: 70px;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }
        }

        /* Content Sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Weather Widget */
        .weather-widget {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .weather-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .weather-temp {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .weather-desc {
            font-size: 0.9rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-seedling"></i>
                Farmora
            </div>
            <button class="notification-btn" onclick="showNotifications()">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Home Section -->
        <div id="home-section" class="content-section active">
            <!-- Weather Widget -->
            <div class="weather-widget">
                <div class="weather-icon">
                    <i class="fas fa-sun"></i>
                </div>
                <div class="weather-temp">28°C</div>
                <div class="weather-desc">Cerah, cocok untuk menyiram tanaman</div>
            </div>

            <!-- Quick Stats -->
            <div class="stats-container">
                <div class="stat-card">
                    <span class="stat-number">1,234</span>
                    <div class="stat-label">Petani Terdaftar</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">567</span>
                    <div class="stat-label">Produk Dijual</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">89</span>
                    <div class="stat-label">Tips Tersedia</div>
                </div>
            </div>

            <!-- Feature Grid -->
            <div class="feature-grid">
                <div class="feature-card" onclick="showSection('education')">
                    <div class="feature-icon education-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Edukasi Pertanian</h3>
                    <p>Pelajari teknik pertanian modern dan berkelanjutan</p>
                </div>

                <div class="feature-card" onclick="showSection('market')">
                    <div class="feature-icon market-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <h3>Pasar Online</h3>
                    <p>Jual hasil panen langsung ke konsumen</p>
                </div>

                <div class="feature-card" onclick="showSection('community')">
                    <div class="feature-icon community-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Forum Komunitas</h3>
                    <p>Berbagi pengalaman dengan sesama petani</p>
                </div>

                <div class="feature-card" onclick="showSection('calculator')">
                    <div class="feature-icon calculator-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3>Kalkulator Pertanian</h3>
                    <p>Hitung kebutuhan pupuk dan estimasi keuntungan</p>
                </div>

                <div class="feature-card" onclick="showSection('route')">
                    <div class="feature-icon route-icon">
                        <i class="fas fa-route"></i>
                    </div>
                    <h3>Rute Distribusi</h3>
                    <p>Temukan rute optimal untuk distribusi hasil panen</p>
                </div>
            </div>
        </div>

        <!-- Education Section -->
        <div id="education-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon education-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h2 class="card-title">Edukasi Pertanian Berkelanjutan</h2>
                </div>
                
                <div class="education-content">
                    <div class="card" style="margin-bottom: 1rem;">
                        <h4>🌱 Teknik Irigasi Tetes</h4>
                        <p>Hemat air hingga 50% dengan sistem irigasi yang efisien. Cocok untuk tanaman sayuran dan buah.</p>
                        <button class="btn" onclick="showEducationDetail('irrigation')">Pelajari Selengkapnya</button>
                    </div>

                    <div class="card" style="margin-bottom: 1rem;">
                        <h4>♻️ Pengolahan Limbah Organik</h4>
                        <p>Ubah limbah pertanian menjadi kompos berkualitas tinggi untuk meningkatkan kesuburan tanah.</p>
                        <button class="btn" onclick="showEducationDetail('compost')">Pelajari Selengkapnya</button>
                    </div>

                    <div class="card" style="margin-bottom: 1rem;">
                        <h4>🌿 Pengendalian Hama Alami</h4>
                        <p>Metode ramah lingkungan untuk mengendalikan hama tanpa pestisida kimia.</p>
                        <button class="btn" onclick="showEducationDetail('pest')">Pelajari Selengkapnya</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Market Section -->
        <div id="market-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon market-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <h2 class="card-title">Pasar Online Petani</h2>
                </div>
                
                <div class="market-products">
                    <div class="card" style="margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="background: #e8f5e8; padding: 1rem; border-radius: 8px;">
                                <i class="fas fa-seedling" style="color: #27ae60; font-size: 1.5rem;"></i>
                            </div>
                            <div style="flex: 1;">
                                <h4>Beras Organik Premium</h4>
                                <p style="color: #7f8c8d;">Pak Budi - Bantul, Yogyakarta</p>
                                <div style="color: #27ae60; font-weight: bold; font-size: 1.1rem;">Rp 15,000/kg</div>
                            </div>
                            <button class="btn" style="width: auto; margin: 0;">Pesan</button>
                        </div>
                    </div>

                    <div class="card" style="margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="background: #fff3cd; padding: 1rem; border-radius: 8px;">
                                <i class="fas fa-carrot" style="color: #f39c12; font-size: 1.5rem;"></i>
                            </div>
                            <div style="flex: 1;">
                                <h4>Sayuran Segar</h4>
                                <p style="color: #7f8c8d;">Bu Sari - Malang, Jawa Timur</p>
                                <div style="color: #27ae60; font-weight: bold; font-size: 1.1rem;">Rp 8,000/kg</div>
                            </div>
                            <button class="btn" style="width: auto; margin: 0;">Pesan</button>
                        </div>
                    </div>

                    <div class="card" style="margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="background: #fce4ec; padding: 1rem; border-radius: 8px;">
                                <i class="fas fa-apple-alt" style="color: #e74c3c; font-size: 1.5rem;"></i>
                            </div>
                            <div style="flex: 1;">
                                <h4>Buah Lokal Segar</h4>
                                <p style="color: #7f8c8d;">Pak Ahmad - Bogor, Jawa Barat</p>
                                <div style="color: #27ae60; font-weight: bold; font-size: 1.1rem;">Rp 12,000/kg</div>
                            </div>
                            <button class="btn" style="width: auto; margin: 0;">Pesan</button>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="showAddProduct()">
                    <i class="fas fa-plus"></i> Jual Produk Anda
                </button>
            </div>
        </div>

        <!-- Community Section -->
        <div id="community-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon community-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h2 class="card-title">Forum Komunitas Petani</h2>
                </div>

                <div class="community-posts">
                    <div class="card" style="margin-bottom: 1rem;">
                        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                            <div style="width: 40px; height: 40px; background: #27ae60; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                                PB
                            </div>
                            <div>
                                <strong>Pak Budi</strong>
                                <div style="font-size: 0.9rem; color: #7f8c8d;">2 jam yang lalu</div>
                            </div>
                        </div>
                        <h4>Tips Mengatasi Hama Wereng pada Padi</h4>
                        <p>Ada yang punya tips efektif untuk mengatasi hama wereng? Sawah saya mulai terserang...</p>
                        <div style="display: flex; gap: 1rem; margin-top: 1rem; font-size: 0.9rem; color: #7f8c8d;">
                            <span><i class="fas fa-heart"></i> 12</span>
                            <span><i class="fas fa-comment"></i> 5 Komentar</span>
                        </div>
                    </div>

                    <div class="card" style="margin-bottom: 1rem;">
                        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                            <div style="width: 40px; height: 40px; background: #e74c3c; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                                BS
                            </div>
                            <div>
                                <strong>Bu Sari</strong>
                                <div style="font-size: 0.9rem; color: #7f8c8d;">1 hari yang lalu</div>
                            </div>
                        </div>
                        <h4>Hasil Panen Tomat Organik Melimpah!</h4>
                        <p>Alhamdulillah, setelah mengikuti tips dari forum ini, panen tomat organik saya meningkat 40%!</p>
                        <div style="display: flex; gap: 1rem; margin-top: 1rem; font-size: 0.9rem; color: #7f8c8d;">
                            <span><i class="fas fa-heart"></i> 25</span>
                            <span><i class="fas fa-comment"></i> 8 Komentar</span>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="showNewPost()">
                    <i class="fas fa-edit"></i> Buat Post Baru
                </button>
            </div>
        </div>

        <!-- Calculator Section -->
        <div id="calculator-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon calculator-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h2 class="card-title">Kalkulator Pertanian</h2>
                </div>
                
                <div class="calculator-form">
                    <div class="form-group">
                        <label class="form-label">Jenis Tanaman</label>
                        <select class="form-select" id="crop-type">
                            <option value="">Pilih Tanaman</option>
                            <option value="rice">Padi</option>
                            <option value="corn">Jagung</option>
                            <option value="tomato">Tomat</option>
                            <option value="chili">Cabai</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Luas Lahan (Ha)</label>
                        <input type="number" class="form-input" id="land-area" placeholder="Contoh: 0.5">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Harga Pupuk per Kg (Rp)</label>
                        <input type="number" class="form-input" id="fertilizer-price" placeholder="Contoh: 5000">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Target Harga Jual per Kg (Rp)</label>
                        <input type="number" class="form-input" id="selling-price" placeholder="Contoh: 15000">
                    </div>

                    <button class="btn" onclick="calculateFarming()">Hitung Estimasi</button>
                    
                    <div class="result-card" id="calculation-result">
                        <h3>Hasil Perhitungan:</h3>
                        <div id="result-content"></div>
                    </div>
                </div>

                <div class="calculator-options">
                    <button class="btn" onclick="showCalculator()">
                        <i class="fas fa-calculator"></i> Mulai Perhitungan
                    </button>
                    <button class="btn btn-secondary" onclick="showCalculatorTips()">
                        <i class="fas fa-lightbulb"></i> Tips Perhitungan
                    </button>
                </div>
            </div>
        </div>

        <!-- Route Section -->
        <div id="route-section" class="content-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon route-icon">
                        <i class="fas fa-route"></i>
                    </div>
                    <h2 class="card-title">Rute Distribusi Optimal</h2>
                </div>
                
                <div class="route-content">
                    <div class="form-group">
                        <label class="form-label">Lokasi Asal</label>
                        <input type="text" class="form-input" placeholder="Masukkan alamat kebun/gudang">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Lokasi Tujuan</label>
                        <input type="text" class="form-input" placeholder="Masukkan alamat pembeli">
                    </div>

                    <div class="route-map" style="height: 200px; background: #e9ecef; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 1rem 0;">
                        <div style="text-align: center; color: #6c757d;">
                            <i class="fas fa-map-marked-alt" style="font-size: 3rem; margin-bottom: 1rem;"></i>
                            <p>Peta akan muncul setelah memasukkan lokasi</p>
                        </div>
                    </div>

                    <button class="btn" onclick="findRoute()">
                        <i class="fas fa-search"></i> Cari Rute Optimal
                    </button>

                    <div class="card" style="margin-top: 1rem; background: #e8f5e8;">
                        <h4><i class="fas fa-info-circle"></i> Info Cuaca & Lalu Lintas</h4>
                        <p>• Cuaca: Cerah, kondisi jalan baik</p>
                        <p>• Lalu lintas: Lancar di semua rute</p>
                        <p>• Estimasi waktu: 45 menit</p>
                        <p>• Jarak: 25 km</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="notification-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('notification-modal')">&times;</button>
            <h3><i class="fas fa-bell"></i> Notifikasi</h3>
            <div style="margin-top: 1rem;">
                <div class="card" style="margin-bottom: 1rem; padding: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="color: #27ae60; font-size: 1.2rem;"><i class="fas fa-check-circle"></i></div>
                        <div>
                            <strong>Pesanan Berhasil!</strong>
                            <p style="margin: 0; font-size: 0.9rem; color: #7f8c8d;">Beras organik Anda telah dipesan oleh Bu Maria</p>
                        </div>
                    </div>
                </div>
                <div class="card" style="margin-bottom: 1rem; padding: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="color: #f39c12; font-size: 1.2rem;"><i class="fas fa-star"></i></div>
                        <div>
                            <strong>Tips Baru Tersedia</strong>
                            <p style="margin: 0; font-size: 0.9rem; color: #7f8c8d;">Cara mengatasi hama ulat pada tanaman cabai</p>
                        </div>
                    </div>
                </div>
                <div class="card" style="margin-bottom: 1rem; padding: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="color: #3498db; font-size: 1.2rem;"><i class="fas fa-cloud-rain"></i></div>
                        <div>
                            <strong>Peringatan Cuaca</strong>
                            <p style="margin: 0; font-size: 0.9rem; color: #7f8c8d;">Hujan diprediksi besok, siapkan perlindungan tanaman</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="education-detail-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('education-detail-modal')">&times;</button>
            <div id="education-detail-content">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <div id="add-product-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('add-product-modal')">&times;</button>
            <h3><i class="fas fa-plus"></i> Tambah Produk Baru</h3>
            <form style="margin-top: 1rem;">
                <div class="form-group">
                    <label class="form-label">Nama Produk</label>
                    <input type="text" class="form-input" placeholder="Contoh: Beras Organik">
                </div>
                <div class="form-group">
                    <label class="form-label">Kategori</label>
                    <select class="form-select">
                        <option value="">Pilih Kategori</option>
                        <option value="rice">Beras & Padi</option>
                        <option value="vegetables">Sayuran</option>
                        <option value="fruits">Buah-buahan</option>
                        <option value="herbs">Bumbu & Rempah</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Harga per Kg (Rp)</label>
                    <input type="number" class="form-input" placeholder="15000">
                </div>
                <div class="form-group">
                    <label class="form-label">Stok Tersedia (Kg)</label>
                    <input type="number" class="form-input" placeholder="100">
                </div>
                <div class="form-group">
                    <label class="form-label">Deskripsi</label>
                    <textarea class="form-input" rows="3" placeholder="Ceritakan tentang produk Anda..."></textarea>
                </div>
                <button type="submit" class="btn" onclick="addProduct(event)">
                    <i class="fas fa-plus"></i> Tambahkan Produk
                </button>
            </form>
        </div>
    </div>

    <div id="new-post-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('new-post-modal')">&times;</button>
            <h3><i class="fas fa-edit"></i> Buat Post Baru</h3>
            <form style="margin-top: 1rem;">
                <div class="form-group">
                    <label class="form-label">Judul</label>
                    <input type="text" class="form-input" placeholder="Tulis judul yang menarik...">
                </div>
                <div class="form-group">
                    <label class="form-label">Kategori</label>
                    <select class="form-select">
                        <option value="">Pilih Kategori</option>
                        <option value="tips">Tips & Trik</option>
                        <option value="problem">Masalah & Solusi</option>
                        <option value="success">Kisah Sukses</option>
                        <option value="question">Pertanyaan</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Isi Post</label>
                    <textarea class="form-input" rows="5" placeholder="Bagikan pengalaman, tips, atau pertanyaan Anda..."></textarea>
                </div>
                <button type="submit" class="btn" onclick="createPost(event)">
                    <i class="fas fa-paper-plane"></i> Posting
                </button>
            </form>
        </div>
    </div>

    <div id="calculator-tips-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('calculator-tips-modal')">&times;</button>
            <h3><i class="fas fa-lightbulb"></i> Tips Perhitungan Pertanian</h3>
            <div style="margin-top: 1rem;">
                <div class="card" style="margin-bottom: 1rem;">
                    <h4>🌾 Perhitungan Pupuk</h4>
                    <p>• Padi: 200-250 kg/ha</p>
                    <p>• Jagung: 300-400 kg/ha</p>
                    <p>• Sayuran: 150-200 kg/ha</p>
                </div>
                <div class="card" style="margin-bottom: 1rem;">
                    <h4>💰 Estimasi Keuntungan</h4>
                    <p>• Hitung semua biaya produksi</p>
                    <p>• Pertimbangkan harga pasar</p>
                    <p>• Sisihkan 10-15% untuk dana darurat</p>
                </div>
                <div class="card">
                    <h4>📊 Faktor Penting</h4>
                    <p>• Kondisi cuaca dan iklim</p>
                    <p>• Kualitas benih dan bibit</p>
                    <p>• Teknik perawatan tanaman</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="showSection('home')">
            <i class="fas fa-home"></i>
            <span>Beranda</span>
        </div>
        <div class="nav-item" onclick="showSection('education')">
            <i class="fas fa-book"></i>
            <span>Edukasi</span>
        </div>
        <div class="nav-item" onclick="showSection('market')">
            <i class="fas fa-shopping-cart"></i>
            <span>Pasar</span>
        </div>
        <div class="nav-item" onclick="showSection('community')">
            <i class="fas fa-comments"></i>
            <span>Forum</span>
        </div>
        <div class="nav-item" onclick="showSection('calculator')">
            <i class="fas fa-calculator"></i>
            <span>Kalkulator</span>
        </div>
    </div>

    <script>
        // Global variables
        let currentSection = 'home';
        
        // Section management
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Show target section
            document.getElementById(sectionName + '-section').classList.add('active');
            
            // Update navigation
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            
            // Find and activate corresponding nav item
            const targetNav = Array.from(navItems).find(item => 
                item.onclick && item.onclick.toString().includes(sectionName)
            );
            if (targetNav) {
                targetNav.classList.add('active');
            }
            
            currentSection = sectionName;
            
            // Special handling for calculator section
            if (sectionName === 'calculator') {
                document.querySelector('.calculator-form').style.display = 'none';
                document.querySelector('.calculator-options').style.display = 'block';
            }
        }
        
        // Modal management
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Notification functions
        function showNotifications() {
            showModal('notification-modal');
        }
        
        // Education functions
        function showEducationDetail(topic) {
            const content = document.getElementById('education-detail-content');
            let detailHTML = '';
            
            switch(topic) {
                case 'irrigation':
                    detailHTML = `
                        <h3><i class="fas fa-tint"></i> Teknik Irigasi Tetes</h3>
                        <div style="margin-top: 1rem;">
                            <h4>Keuntungan:</h4>
                            <p>• Hemat air hingga 50%</p>
                            <p>• Mengurangi pertumbuhan gulma</p>
                            <p>• Nutrisi lebih terfokus</p>
                            
                            <h4>Cara Pemasangan:</h4>
                            <p>1. Siapkan pipa utama dan pipa cabang</p>
                            <p>2. Pasang emitter setiap 30-40 cm</p>
                            <p>3. Atur tekanan air 1-2 bar</p>
                            <p>4. Test sistem sebelum tanam</p>
                            
                            <h4>Perawatan:</h4>
                            <p>• Bersihkan filter secara rutin</p>
                            <p>• Cek emitter yang tersumbat</p>
                            <p>• Ganti pipa yang rusak</p>
                        </div>
                    `;
                    break;
                case 'compost':
                    detailHTML = `
                        <h3><i class="fas fa-recycle"></i> Pengolahan Limbah Organik</h3>
                        <div style="margin-top: 1rem;">
                            <h4>Bahan yang Diperlukan:</h4>
                            <p>• Limbah hijau (daun, rumput)</p>
                            <p>• Limbah coklat (ranting kering)</p>
                            <p>• Mikroorganisme pengurai</p>
                            <p>• Air secukupnya</p>
                            
                            <h4>Langkah Pembuatan:</h4>
                            <p>1. Campurkan bahan hijau dan coklat (3:1)</p>
                            <p>2. Tambahkan mikroorganisme</p>
                            <p>3. Siram dengan air, jaga kelembaban</p>
                            <p>4. Aduk setiap 2 minggu</p>
                            <p>5. Kompos siap dalam 2-3 bulan</p>
                            
                            <h4>Tips Sukses:</h4>
                            <p>• Jaga suhu 50-60°C</p>
                            <p>• Kelembaban 50-60%</p>
                            <p>• Aerasi yang cukup</p>
                        </div>
                    `;
                    break;
                case 'pest':
                    detailHTML = `
                        <h3><i class="fas fa-bug"></i> Pengendalian Hama Alami</h3>
                        <div style="margin-top: 1rem;">
                            <h4>Pestisida Nabati:</h4>
                            <p>• Ekstrak nimba untuk kutu daun</p>
                            <p>• Air sabun untuk serangga kecil</p>
                            <p>• Ekstrak bawang putih untuk jamur</p>
                            
                            <h4>Predator Alami:</h4>
                            <p>• Kepik untuk mengendalikan kutu</p>
                            <p>• Laba-laba untuk serangga terbang</p>
                            <p>• Burung untuk ulat dan serangga</p>
                            
                            <h4>Teknik Pencegahan:</h4>
                            <p>• Rotasi tanaman</p>
                            <p>• Tanaman perangkap</p>
                            <p>• Menjaga kebersihan kebun</p>
                            <p>• Penggunaan mulsa</p>
                        </div>
                    `;
                    break;
            }
            
            content.innerHTML = detailHTML;
            showModal('education-detail-modal');
        }
        
        // Market functions
        function showAddProduct() {
            showModal('add-product-modal');
        }
        
        function addProduct(event) {
            event.preventDefault();
            alert('Produk berhasil ditambahkan! Tim kami akan melakukan verifikasi dalam 1x24 jam.');
            closeModal('add-product-modal');
        }
        
        // Community functions
        function showNewPost() {
            showModal('new-post-modal');
        }
        
        function createPost(event) {
            event.preventDefault();
            alert('Post berhasil dibuat! Terima kasih telah berbagi dengan komunitas.');
            closeModal('new-post-modal');
        }
        
        // Calculator functions
        function showCalculator() {
            document.querySelector('.calculator-form').style.display = 'block';
            document.querySelector('.calculator-options').style.display = 'none';
        }
        
        function showCalculatorTips() {
            showModal('calculator-tips-modal');
        }
        
        function calculateFarming() {
            const cropType = document.getElementById('crop-type').value;
            const landArea = parseFloat(document.getElementById('land-area').value);
            const fertilizerPrice = parseFloat(document.getElementById('fertilizer-price').value);
            const sellingPrice = parseFloat(document.getElementById('selling-price').value);
            
            if (!cropType || !landArea || !fertilizerPrice || !sellingPrice) {
                alert('Harap lengkapi semua field!');
                return;
            }
            
            // Sample calculations based on crop type
            let fertilizerNeeded, expectedYield, totalCost, grossIncome, netProfit;
            
            switch(cropType) {
                case 'rice':
                    fertilizerNeeded = landArea * 250; // kg
                    expectedYield = landArea * 5000; // kg
                    break;
                case 'corn':
                    fertilizerNeeded = landArea * 350;
                    expectedYield = landArea * 4000;
                    break;
                case 'tomato':
                    fertilizerNeeded = landArea * 200;
                    expectedYield = landArea * 15000;
                    break;
                case 'chili':
                    fertilizerNeeded = landArea * 180;
                    expectedYield = landArea * 2000;
                    break;
                default:
                    fertilizerNeeded = landArea * 250;
                    expectedYield = landArea * 3000;
            }
            
            const fertilizerCost = fertilizerNeeded * fertilizerPrice;
            const seedCost = landArea * 500000; // Estimated seed cost
            const laborCost = landArea * 2000000; // Estimated labor cost
            const otherCosts = landArea * 1000000; // Other costs
            
            totalCost = fertilizerCost + seedCost + laborCost + otherCosts;
            grossIncome = expectedYield * sellingPrice;
            netProfit = grossIncome - totalCost;
            
            const resultHTML = `
                <div style="display: grid; gap: 1rem;">
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 0.5rem;">
                        <span>Kebutuhan Pupuk:</span>
                        <span>${fertilizerNeeded.toLocaleString()} kg</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 0.5rem;">
                        <span>Perkiraan Hasil Panen:</span>
                        <span>${expectedYield.toLocaleString()} kg</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 0.5rem;">
                        <span>Total Biaya Produksi:</span>
                        <span>Rp ${totalCost.toLocaleString()}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 0.5rem;">
                        <span>Perkiraan Pendapatan:</span>
                        <span>Rp ${grossIncome.toLocaleString()}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.1rem;">
                        <span>Keuntungan Bersih:</span>
                        <span style="color: ${netProfit >= 0 ? '#fff' : '#ffcdd2'};">
                            Rp ${netProfit.toLocaleString()}
                        </span>
                    </div>
                    ${netProfit < 0 ? '<p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.9;"><i class="fas fa-exclamation-triangle"></i> Perhitungan menunjukkan kerugian. Pertimbangkan untuk mengurangi biaya atau meningkatkan harga jual.</p>' : ''}
                </div>
            `;
            
            document.getElementById('result-content').innerHTML = resultHTML;
            document.getElementById('calculation-result').style.display = 'block';
        }
        
        // Route functions
        function findRoute() {
            alert('Fitur pencarian rute akan segera aktif. Untuk sementara, gunakan aplikasi peta lainnya.');
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }
        
        // Simulate dynamic data updates
        function updateWeather() {
            const weather = [
                { temp: '28°C', desc: 'Cerah, cocok untuk menyiram tanaman', icon: 'fas fa-sun' },
                { temp: '25°C', desc: 'Berawan, kondisi baik untuk panen', icon: 'fas fa-cloud-sun' },
                { temp: '23°C', desc: 'Hujan ringan, lindungi tanaman muda', icon: 'fas fa-cloud-rain' }
            ];
            
            const randomWeather = weather[Math.floor(Math.random() * weather.length)];
            document.querySelector('.weather-temp').textContent = randomWeather.temp;
            document.querySelector('.weather-desc').textContent = randomWeather.desc;
            document.querySelector('.weather-icon i').className = randomWeather.icon;
        }
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Update weather every 30 seconds for demo
            setInterval(updateWeather, 30000);
            
            // Add some interactive feedback
            document.querySelectorAll('.btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });
            
            // Simulate typing indicator for forum
            function addTypingIndicator() {
                const communityPosts = document.querySelector('.community-posts');
                if (communityPosts && currentSection === 'community') {
                    const typingDiv = document.createElement('div');
                    typingDiv.className = 'card';
                    typingDiv.style.marginBottom = '1rem';
                    typingDiv.style.opacity = '0.7';
                    typingDiv.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="width: 40px; height: 40px; background: #95a5a6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <div style="color: #7f8c8d;">
                                    <i class="fas fa-pencil-alt"></i> Seseorang sedang mengetik...
                                </div>
                            </div>
                        </div>
                    `;
                    
                    // Add typing indicator occasionally
                    if (Math.random() < 0.3) {
                        communityPosts.appendChild(typingDiv);
                        setTimeout(() => {
                            if (typingDiv.parentNode) {
                                typingDiv.parentNode.removeChild(typingDiv);
                            }
                        }, 3000);
                    }
                }
            }
            
            // Add typing indicator every 15 seconds
            setInterval(addTypingIndicator, 15000);
        });
    </script>